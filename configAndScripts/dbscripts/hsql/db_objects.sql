/* *******************************************************************************************
						GestPymeSOC - DataBase Schemas and Objects Script
******************************************************************************************** */
CREATE CACHED TABLE MAT_PAISES(
	ID_PAIS INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
	NOM_PAIS VARCHAR(64) NOT NULL,
	CODIGO_ISO VARCHAR() NOT NULL,
	CONSTRAINT PAISES_COD_ISO_UK UNIQUE (CODIGO_ISO)
);

CREATE CACHED TABLE MAT_DEPARTAMENTOS(
	ID_DEPARTAMENTO INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
	CODIGO_DEPARTAMENTO VARCHAR(3) NOT NULL,
	NOMBRE VARCHAR(128),
	ID_PAIS INTEGER NOT NULL,
	CONSTRAINT DEPART_CODIGO_UK UNIQUE (CODIGO_DEPARTAMENTO)
);

CREATE CACHED TABLE MAT_CIUDADES(
	ID_CIUDAD INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
	CODIGO_CIUDAD VARCHAR(4) NOT NULL,
	NOMBRE VARCHAR(128),
	ID_DEPARTAMENTO INTEGER NOT NULL,
	CONSTRAINT CIUD_CODIGO_UK UNIQUE (CODIGO_CIUDAD)
);

CREATE CACHED TABLE MAT_DIRECCIONES(
	/*
	 * [TIPO VIA] NUMERO LETRAS SENTIDO COMPLEMENTO # NUMERO LETRAS SENTIDO COMPLEMENTO
	 */
);

CREATE CACHED TABLE GPT_GRUPOS_EMPRESARIALES(
	ID_GRUPO_EMPRESARIAL INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
	RAZON_SOCIAL VARCHAR(128) NOT NULL,
	IDENTICACION_TRIBUTARIA VARCHAR(10) NOT NULL,
	DIGITO_VERIFICACION VARCHAR(1) NOT NULL,
	ID_CIUDAD INTEGER,
	NUM_PBX,
	NUM_TELEFONO1,
	NUM_TELEFONO2,
	CONSTRAINT GRUP_EMPRE_NIT_UK UNIQUE (IDENTICACION_TRIBUTARIA)
);

CREATE CACHED TABLE GPT_EMPRESAS(
	ID_EMPRESA INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,
	RAZON_SOCIAL VARCHAR(128) NOT NULL,
	IDENTICACION_TRIBUTARIA VARCHAR(10),
	DIGITO_VERIFICACION VARCHAR(1),
	ID_GRUPO_EMPRESARIAL INTEGER NOT NULL,
	CONSTRAINT EMPRE_NIT_UK UNIQUE (IDENTICACION_TRIBUTARIA)
	CONSTRAINT EMPRE_ID_GRUPO_FK FOREIGN KEY (ID_GRUPO_EMPRESARIAL) REFERENCES GPT_GRUPO_EMPRESARIAL (ID_GRUPO_EMPRESARIAL) ON UPDATE NO ACTION ON DELETE NO ACTION,
);

